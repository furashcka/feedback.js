/*!
 * license: MIT
 * https://furashcka.github.io/feedback.js/docs/
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Feedback=e():t.Feedback=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){function o(t,e){var o=t.getAttribute("class")||"",n=o.split(" "),r=n.indexOf(e);n.push(e),-1===r&&(n=n.join(" "),t.setAttribute("class",n.trim()))}function n(t,e){var o=t.getAttribute("class")||"",n=o.split(" "),r=n.indexOf(e);r>-1&&(n.splice(r,1),n=n.join(" "),t.setAttribute("class",n.trim()))}function r(){var t={},e=!1,o=0,n=arguments.length;for(s(arguments[0])&&(e=arguments[0],o++);o<n;o++){var i=arguments[o];!function(o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e&&u(o[n])?t[n]=r(!0,t[n],o[n]):t[n]=o[n])}(i)}return t}function i(t,e){for(var o=Object.keys(t),n=("length"in t?t.length:o.length),r=0;r<n;r++){var i=o[r],a=t[i];if(!1===e.call(a,a,i))break}}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"[object Boolean]"===Object.prototype.toString.call(t)}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function l(){return void 0===window.FormData}function f(){return Object.create(null)}t.exports={addClass:o,removeClass:n,extend:r,forEach:i,isArray:a,isBoolean:s,isObject:u,guid:c,getEmptyObj:f,cantUseFormData:l,canUseProgressEvent:function(){return p}};var p=function(){var t=new XMLHttpRequest;return"upload"in t&&"onprogress"in t.upload}()},function(t,e){t.exports=function(t){t.options.resetFormAfterAjax&&t.form.reset()}},function(t,e){function o(t){console.warn&&console.warn(t)}t.exports={firstArgumentMustBeFormElement:function(t){if(!t||!t.nodeName||"FORM"!==t.nodeName)throw"First argument must be a form element!"},incorrectSubmitButtonName:function(t){if(t.querySelector('[name="submit"]'))throw"Element with attribute name = submit not allowed"},checkDependencies:function(){if(!window.validator)throw"Please include validator.js. You can download from https://github.com/chriso/validator.js"},showWarningWhenFormHasInputWithFileTypeAndNeedAjaxPolyfill:function(){o("You can't use XMLHttpRequest 2.0 because browser not support it. Used polyfill ajax iframe.")},showWarningWhenIgnoringInputWithFileType:function(){o("Ignoring inputs with file type, because used XMLHttpRequest 1.0")}}},function(t,e,o){var n=o(0),r=/^(?:submit|button|image|reset)$/i;t.exports=function(t){var e=t.querySelectorAll("input, textarea, select"),o={};return n.forEach(e,function(t){var e=t.name||"",n=t.type||"";""===e.trim()||r.test(n)||(e in o||(o[e]=[]),o[e].push(t))}),o}},function(t,e,o){function n(t,e){a(t,e)}function r(t,e){t.checked&&a(t,e)}function i(t,e){s.forEach(t.options,function(o){o.selected&&a(o,e,t.name,o.value)})}function a(t,e,o,n){var r=encodeURIComponent(o||t.name),i=encodeURIComponent(n||t.value).replace(/%20/g,"+");e.push(r+"="+i)}var s=o(0),u={text:n,hidden:n,password:n,search:n,email:n,url:n,tel:n,date:n,time:n,number:n,range:n,color:n,"datetime-local":n,month:n,week:n,datetime:n,textarea:n,radio:r,checkbox:r,"select-one":n,"select-multiple":i};t.exports=function(t){var e=[];return s.forEach(t.inputsGroupedByName,function(t,o){s.forEach(t,function(t){t.type in u&&!t.disabled&&u[t.type](t,e)})}),e.join("&")}},function(t,e,o){function n(t,e,o){t.setAttribute("action",e),t.setAttribute("method",o)}var r=o(2),i=o(3),a=o(0);t.exports=function(t,e){r.checkDependencies(),r.firstArgumentMustBeFormElement(t),r.incorrectSubmitButtonName(t);var o=this;o.form=t,o.iframe=null,o.inputsGroupedByName={},o.submitFn=null,o.options={focusIncorrectInput:!0,fireSchemaByTurn:!0,fireValidateAndAjaxWhenSubmit:!0,resetFormAfterAjax:!0,schema:{},ajax:{loadingClass:"--loading",url:t.getAttribute("action")||location.href,method:t.getAttribute("method")||"POST",iframePolyfill:"auto",before:function(){},after:function(){},success:function(){},error:function(){},progress:function(){}},validate:{before:function(){},after:function(){},success:function(){},error:function(){}}},o.options=a.extend(!0,o.options,e||{}),n(o.form,o.options.ajax.url,o.options.ajax.method),o.update(),!0===o.options.fireValidateAndAjaxWhenSubmit&&(o.submitFn=function(t){t.preventDefault(),!0===o.validate()&&o.ajax()},o.form.addEventListener("submit",o.submitFn))},t.exports.prototype.schema=function(t){return this.options.schema=t,this},t.exports.prototype.validate=function(t){return void 0===t||a.isArray(t)?o(6).call(this,t):(this.options.validate=a.extend(this.options.validate,t||{}),this)},t.exports.prototype.ajax=function(t){return void 0===t?o(7).call(this):(this.options.ajax=a.extend(this.options.ajax,t||{}),n(this.form,this.options.ajax.url,this.options.ajax.method),this)},t.exports.prototype.update=function(){var t=o(10);return this.inputsGroupedByName=i(this.form),this.inputsGroupedByName=t(this.inputsGroupedByName),this},t.exports.prototype.fireValidateError=function(t,e){return this.options.validate.error.call(e||a.getEmptyObj(),t),this},t.exports.prototype.resetForm=function(){return o(1)(this),this},t.exports.prototype.destroy=function(t){return this.form.removeEventListener("submit",this.submitFn),null}},function(t,e,o){function n(t,e,o){return i.isArray(o)&&(e={},i.forEach(o,function(o){e[o]=t.options.schema[o]})),e}function r(t){var e=[];return i.forEach(t,function(t){e.push(t)}),e}var i=o(0);t.exports=function(t){var e=this,o=n(e,e.options.schema,t),a=null;return e.options.validate.before.call(i.getEmptyObj()),i.forEach(o,function(t,o){if(o in e.inputsGroupedByName){var n=e.inputsGroupedByName[o],s=r(n),u=t.call(n);return void 0!==u?(null===a&&(a=n.get()),e.options.validate.error.call(i.getEmptyObj(),u,s),!e.options.fireSchemaByTurn):void 0}}),null!==a&&!0===e.options.focusIncorrectInput&&a.focus(),null===a&&e.options.validate.success.call(i.getEmptyObj()),e.options.validate.after.call(i.getEmptyObj()),null===a}},function(t,e,o){function n(t){var e=r(t),o=e&&"auto"===t.options.ajax.iframePolyfill&&a.cantUseFormData();return!0===t.options.ajax.iframePolyfill||o?(o&&i.showWarningWhenFormHasInputWithFileTypeAndNeedAjaxPolyfill(),"iframe"):(a.cantUseFormData()&&e&&i.showWarningWhenIgnoringInputWithFileType(),"XMLHttpRequest")}function r(t){try{a.forEach(t.inputsGroupedByName,function(t){a.forEach(t,function(t){if("file"===String(t.type).toLowerCase())throw"found!"})})}catch(t){return!0}return!1}var i=o(2),a=o(0),s={iframe:o(8),XMLHttpRequest:o(9)};t.exports=function(){var t=this,e=n(t);s[e](t)}},function(t,e,o){function n(t){var e="feedback-polyfill-ajax-iframe-"+i.guid(),o=document.createElement("iframe");return o.name=e,o.style.display="none",t.form.setAttribute("enctype","multipart/form-data"),t.form.setAttribute("method",t.options.ajax.method),t.form.setAttribute("target",e),document.body.appendChild(o),o}function r(t){!i.canUseProgressEvent()&&t.options.ajax.progress.call(t.form,100)}var i=o(0),a=o(1);t.exports=function(t){null===t.iframe&&(t.iframe=n(t),i.addClass(t.form,t.options.ajax.loadingClass),t.options.ajax.before(),t.iframe.onload=function(){var e=this.contentDocument||this.contentWindow.document;t.options.ajax.success({type:"ajax.iframe",xhr:{responseText:String(e.body&&e.body.innerHTML)}}),t.options.ajax.progress.call(t.form,100),i.removeClass(t.form,t.options.ajax.loadingClass),t.options.ajax.after(),r(t),a(t)}),t.form.submit()}},function(t,e,o){function n(t){var e=/\?/g,o=e.test(t.options.ajax.url),n=!0===o?"&":"?",r=u(t);return""===r&&(n=""),t.options.ajax.url+n+r}function r(t,e){a.canUseProgressEvent()&&(e.upload.onprogress=function(e){var o=Math.round(e.loaded/e.total*100);t.options.ajax.progress.call(t.form,o)})}function i(t){!a.canUseProgressEvent()&&t.options.ajax.progress.call(t.form,100)}var a=o(0),s=o(1),u=o(4);t.exports=function(t){var e=t.options.ajax.method.toUpperCase(),o=t.options.ajax.url,c=null,l="1.0",f=!1,p=new XMLHttpRequest;"GET"===e?o=n(t):a.cantUseFormData()?(f=!0,c=u(t)):(l="2.0",c=new FormData(t.form)),a.addClass(t.form,t.options.ajax.loadingClass),t.options.ajax.before(),r(t,p),p.onreadystatechange=function(){4===p.readyState&&(200===p.status?t.options.ajax.success({type:"ajax."+l,xhr:p}):t.options.ajax.error({type:"ajax."+l,xhr:p}),a.removeClass(t.form,t.options.ajax.loadingClass),t.options.ajax.after(),i(t),s(t))},p.open(e,o),f&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(c)}},function(t,e,o){var n=o(0),r=o(11);t.exports=function(t){return n.forEach(t,function(e,o){t[o]=r(e)}),t}},function(t,e,o){var n=o(0),r={version:"",blacklist:"",escape:"",unescape:"",ltrim:"",normalizeEmail:"",rtrim:"",stripLow:"",toBoolean:"",toDate:"",toFloat:"",toInt:"",trim:"",whitelist:"",isEmpty:""},i={get:function(t){return-1===t?this[this.length-1]:this[t||0]},isEmpty:function(){var t=this.get().value.trim();return window.validator.isEmpty(t)}};n.forEach(window.validator,function(t,e){e in r||(i[e]=function(){var t=this.get().value,o=Array.prototype.splice.call(arguments,0,arguments.length);return o=[t].concat(o),window.validator[e].apply(null,o)})}),t.exports=function(t){var e=Object.create(i),o=0;return n.forEach(t,function(t){e[o++]=t}),e}}])});