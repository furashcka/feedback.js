/*!
 * license: MIT
 * https://furashcka.github.io/feedback.js/docs/
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Feedback=e():t.Feedback=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){function n(t,e){var n=t.getAttribute("class")||"",o=n.split(" "),r=o.indexOf(e);o.push(e),-1===r&&(o=o.join(" "),t.setAttribute("class",o.trim()))}function o(t,e){var n=t.getAttribute("class")||"",o=n.split(" "),r=o.indexOf(e);r>-1&&(o.splice(r,1),o=o.join(" "),t.setAttribute("class",o.trim()))}function r(){var t={},e=!1,n=0,o=arguments.length;for(s(arguments[0])&&(e=arguments[0],n++);n<o;n++){var i=arguments[n];!function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e&&u(n[o])?t[o]=r(!0,t[o],n[o]):t[o]=n[o])}(i)}return t}function i(t,e){for(var n=Object.keys(t),o=("length"in t?t.length:n.length),r=0;r<o;r++){var i=n[r],a=t[i];if(!1===e.call(a,a,i))break}}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"[object Boolean]"===Object.prototype.toString.call(t)}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function l(){return void 0===window.FormData}function f(){return Object.create(null)}t.exports={addClass:n,removeClass:o,extend:r,forEach:i,isArray:a,isBoolean:s,isObject:u,guid:c,getEmptyObj:f,cantUseFormData:l,canUseProgressEvent:function(){return p}};var p=function(){var t=new XMLHttpRequest;return"upload"in t&&"onprogress"in t.upload}()},function(t,e){t.exports=function(t){t.options.resetFormAfterAjax&&t.form.reset()}},function(t,e){function n(t){console.warn&&console.warn(t)}t.exports={firstArgumentMustBeFormElement:function(t){if(!t||!t.nodeName||"FORM"!==t.nodeName)throw"First argument must be a form element!"},incorrectSubmitButtonName:function(t){if(t.querySelector('[name="submit"]'))throw"Element with attribute name = submit not allowed"},checkDependencies:function(){if(!window.validator)throw"Please include validator.js. You can download from https://github.com/chriso/validator.js"},showWarningWhenFormHasInputWithFileTypeAndNeedAjaxPolyfill:function(){n("You can't use XMLHttpRequest 2.0 because browser not support it. Used polyfill ajax iframe.")},showWarningWhenIgnoringInputWithFileType:function(){n("Ignoring inputs with file type, because used XMLHttpRequest 1.0")}}},function(t,e,n){var o=n(0),r=/^(?:submit|button|image|reset)$/i;t.exports=function(t){var e=t.querySelectorAll("input, textarea, select"),n={};return o.forEach(e,function(t){var e=t.name||"",o=t.type||"";""===e.trim()||r.test(o)||(e in n||(n[e]=[]),n[e].push(t))}),n}},function(t,e,n){function o(t,e){a(t,e)}function r(t,e){t.checked&&a(t,e)}function i(t,e){s.forEach(t.options,function(n){n.selected&&a(n,e,t.name,n.value)})}function a(t,e,n,o){var r=encodeURIComponent(n||t.name),i=encodeURIComponent(o||t.value).replace(/%20/g,"+");e.push(r+"="+i)}var s=n(0),u={text:o,hidden:o,password:o,search:o,email:o,url:o,tel:o,date:o,time:o,number:o,range:o,color:o,"datetime-local":o,month:o,week:o,datetime:o,textarea:o,radio:r,checkbox:r,"select-one":o,"select-multiple":i};t.exports=function(t){var e=[];return s.forEach(t.inputsGroupedByName,function(t,n){s.forEach(t,function(t){t.type in u&&!t.disabled&&u[t.type](t,e)})}),e.join("&")}},function(t,e,n){function o(t,e,n){t.setAttribute("action",e),t.setAttribute("method",n)}var r=n(2),i=n(3),a=n(0);t.exports=function(t,e){r.checkDependencies(),r.firstArgumentMustBeFormElement(t),r.incorrectSubmitButtonName(t);var n=this;n.form=t,n.iframe=null,n.inputsGroupedByName={},n.submitFn=null,n.options={focusIncorrectInput:!0,fireSchemaByTurn:!0,fireValidateAndAjaxWhenSubmit:!0,resetFormAfterAjax:!0,schema:{},ajax:{loadingClass:"--loading",url:t.getAttribute("action")||location.href,method:t.getAttribute("method")||"POST",iframePolyfill:"auto",before:function(){},after:function(){},success:function(){},error:function(){},progress:function(){}},validate:{before:function(){},after:function(){},success:function(){},error:function(){}}},n.options=a.extend(!0,n.options,e||{}),o(n.form,n.options.ajax.url,n.options.ajax.method),n.update(),!0===n.options.fireValidateAndAjaxWhenSubmit&&(n.submitFn=function(t){t.preventDefault(),!0===n.validate()&&n.ajax()},n.form.addEventListener("submit",n.submitFn))},t.exports.prototype.schema=function(t){return this.options.schema=t,this},t.exports.prototype.validate=function(t){return void 0===t||a.isArray(t)?n(6).call(this,t):(this.options.validate=a.extend(this.options.validate,t||{}),this)},t.exports.prototype.ajax=function(t){return void 0===t?n(7).call(this):(this.options.ajax=a.extend(this.options.ajax,t||{}),o(this.form,this.options.ajax.url,this.options.ajax.method),this)},t.exports.prototype.update=function(){var t=n(10);return this.inputsGroupedByName=i(this.form),this.inputsGroupedByName=t(this.inputsGroupedByName),this},t.exports.prototype.fireValidateError=function(t,e){return this.options.validate.error.call(e||a.getEmptyObj(),t),this},t.exports.prototype.resetForm=function(){return n(1)(this),this},t.exports.prototype.destroy=function(t){return this.form.removeEventListener("submit",this.submitFn),null}},function(t,e,n){function o(t,e,n){return i.isArray(n)&&(e={},i.forEach(n,function(n){e[n]=t.options.schema[n]})),e}function r(t){var e=[];return i.forEach(t,function(t){e.push(t)}),e}var i=n(0);t.exports=function(t){var e=this,n=o(e,e.options.schema,t),a=null;return e.options.validate.before.call(i.getEmptyObj()),i.forEach(n,function(t,n){if(n in e.inputsGroupedByName){var o=e.inputsGroupedByName[n],s=r(o),u=t.call(o);return void 0!==u?(null===a&&(a=o.get()),e.options.validate.error.call(i.getEmptyObj(),u,s),!e.options.fireSchemaByTurn):void 0}}),null!==a&&!0===e.options.focusIncorrectInput&&a.focus(),null===a&&e.options.validate.success.call(i.getEmptyObj()),e.options.validate.after.call(i.getEmptyObj()),null===a}},function(t,e,n){function o(t){var e=r(t),n=e&&"auto"===t.options.ajax.iframePolyfill&&a.cantUseFormData();return!0===t.options.ajax.iframePolyfill||n?(n&&i.showWarningWhenFormHasInputWithFileTypeAndNeedAjaxPolyfill(),"iframe"):(a.cantUseFormData()&&e&&i.showWarningWhenIgnoringInputWithFileType(),"XMLHttpRequest")}function r(t){try{a.forEach(t.inputsGroupedByName,function(t){a.forEach(t,function(t){if("file"===String(t.type).toLowerCase())throw"found!"})})}catch(t){return!0}return!1}var i=n(2),a=n(0),s={iframe:n(8),XMLHttpRequest:n(9)};t.exports=function(){var t=this,e=o(t);s[e](t)}},function(t,e,n){function o(t){var e="feedback-polyfill-ajax-iframe-"+i.guid(),n=document.createElement("iframe");return n.name=e,n.style.display="none",t.form.setAttribute("enctype","multipart/form-data"),t.form.setAttribute("method",t.options.ajax.method),t.form.setAttribute("target",e),document.body.appendChild(n),n}function r(t){!i.canUseProgressEvent()&&t.options.ajax.progress.call(t.form,100)}var i=n(0),a=n(1);t.exports=function(t){null===t.iframe&&(t.iframe=o(t),i.addClass(t.form,t.options.ajax.loadingClass),t.options.ajax.before(),t.iframe.onload=function(){var e=this.contentDocument||this.contentWindow.document;t.options.ajax.success({type:"ajax.iframe",xhr:{responseText:String(e.body&&e.body.innerHTML)}}),t.options.ajax.progress.call(t.form,100),i.removeClass(t.form,t.options.ajax.loadingClass),t.options.ajax.after(),r(t),a(t)}),t.form.submit()}},function(t,e,n){function o(t){var e=/\?/g,n=e.test(t.options.ajax.url),o=!0===n?"&":"?",r=u(t);return""===r&&(o=""),t.options.ajax.url+o+r}function r(t,e){a.canUseProgressEvent()&&(e.upload.onprogress=function(e){var n=Math.round(e.loaded/e.total*100);t.options.ajax.progress.call(t.form,n)})}function i(t){!a.canUseProgressEvent()&&t.options.ajax.progress.call(t.form,100)}var a=n(0),s=n(1),u=n(4);t.exports=function(t){var e=t.options.ajax.method.toUpperCase(),n=t.options.ajax.url,c=null,l="1.0",f=!1,p=new XMLHttpRequest;"GET"===e?n=o(t):a.cantUseFormData()?(f=!0,c=u(t)):(l="2.0",c=new FormData(t.form)),a.addClass(t.form,t.options.ajax.loadingClass),t.options.ajax.before(),r(t,p),p.onreadystatechange=function(){4===p.readyState&&(200===p.status?t.options.ajax.success({type:"ajax."+l,xhr:p}):t.options.ajax.error({type:"ajax."+l,xhr:p}),a.removeClass(t.form,t.options.ajax.loadingClass),t.options.ajax.after(),i(t),s(t))},p.open(e,n),f&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(c)}},function(t,e,n){var o=n(0),r=n(11);t.exports=function(t){return o.forEach(t,function(e,n){t[n]=r(e)}),t}},function(t,e,n){var o=n(0),r={version:"",blacklist:"",escape:"",unescape:"",ltrim:"",normalizeEmail:"",rtrim:"",stripLow:"",toBoolean:"",toDate:"",toFloat:"",toInt:"",trim:"",whitelist:"",isEmpty:""},i={get:function(t){return-1===t?this[this.length-1]:this[t||0]},isEmpty:function(){var t=this.get().value.trim();return window.validator.isEmpty(t)}};o.forEach(window.validator,function(t,e){e in r||(i[e]=function(){var t=this.get().value,n=Array.prototype.splice.call(arguments,0,arguments.length);return n=[t].concat(n),window.validator[e].apply(null,n)})}),t.exports=function(t){var e=Object.create(i),n=0;return o.forEach(t,function(t){e[n++]=t}),e}}])});